// ===== TRANSLATIONS =====
const translations = {
  fr: {
    // Nav
    navForWho: "Pour qui ?",
    navServices: "Services",
    navWhyGuru: "Pourquoi Guru",
    navProcess: "Process",
    navFaq: "FAQ",
    navCta: "Demander un devis",
    langBtn: "EN",

    // Hero
    heroBadge: "Traiteur événementiel 360°",
    heroTitle1: "Le traiteur des événements ",
    heroHighlight: "sous pression",
    heroTitle2: ", geek-food & premium, partout en France.",
    heroSubtitle: "Traiteur 360 pour entreprises et agences : buffets, bars et staff pour vos séminaires, lancements produits, festivals et events gaming – sans le côté guindé.",
    stat1Num: "100 000+",
    stat1Label: "convives en 2025",
    stat2Num: "80+",
    stat2Label: "collaborateurs",
    stat3Num: "100+",
    stat3Label: "entreprises clientes",
    heroCta: "Demander un devis",

    // For Who
    forWhoTag: "Notre cible",
    forWhoTitle: "Pour quels ",
    forWhoHighlight: "événements",
    forWhoTitle2: " ?",
    forWhoSubtitle: "Nous intervenons sur deux grandes catégories d'événements B2B.",
    forWho1Title: "Événements sous forte pression",
    forWho1Desc: "Esport, festivals, shows en live, gros événements tech / gaming, grandes conférences. Des contextes où la logistique doit être irréprochable et les volumes maîtrisés.",
    forWho2Title: "Soirées clients & moments premium geek-chic",
    forWho2Desc: "Lancements produits, soirées clients, events marque, séminaires haut de gamme. L'excellence culinaire au service de votre image.",
    forWhoNote: "Nous ne faisons pas de petits événements privés / micro-budgets.",

    // Services 360
    servicesTag: "Nos prestations",
    servicesTitle: "Ce que nous ",
    servicesHighlight: "faisons",
    servicesSubtitle: "Une capacité 360 pour couvrir l'intégralité de vos besoins événementiels.",
    svc1Title: "Buffets & cocktails dînatoires",
    svc1Desc: "Formats modulables, cuisine créative et qualitative, adaptés aux gros volumes avec une fluidité logistique totale.",
    svc2Title: "Bars & cocktails",
    svc2Desc: "Mixologie, open bar, softs premium. Des bars qui marquent les esprits, avec ou sans alcool.",
    svc3Title: "Petit-déjeuners & pauses café",
    svc3Desc: "Séminaires, conférences, journées de travail : des pauses gourmandes qui rechargent vos équipes.",
    svc4Title: "Repas assis / formats premium",
    svc4Desc: "Service à table haut de gamme pour vos dîners de gala, soirées VIP et moments d'exception.",
    svc5Title: "Staff & mise en scène",
    svc5Desc: "Service, scénographie culinaire, foodtrucks si besoin. Une équipe dédiée et formée à vos exigences.",

    // Comparison
    compTag: "Notre différence",
    compTitle: "Pourquoi Guru plutôt qu'un ",
    compHighlight: "traiteur classique",
    compTitle2: " ?",
    compSubtitle: "Une comparaison factuelle de ce qui nous différencie.",
    compHeader1: "Critère",
    compHeader2: "Guru",
    compHeader3: "Traiteur classique",
    compRow1: "Gestion des events sous pression (esport, live, gros volumes)",
    compRow1Guru: "Oui, cœur de métier",
    compRow1Classic: "Occasionnel / non spécialisé",
    compRow2: "ADN geek-food premium (gaming × luxe/tech)",
    compRow2Guru: "Clair et assumé",
    compRow2Classic: "Généraliste",
    compRow3: "Capacité 360 (food, bar, staff, scénographie)",
    compRow3Guru: "Intégrée",
    compRow3Classic: "Souvent morcelée / sous-traitée",
    compRow4: "Rapport qualité / prix sur gros volumes",
    compRow4Guru: "Optimisé",
    compRow4Classic: "Plus variable",
    compRow5: "Engagement éco (local, saisonnalité, anti-gaspi, zéro plastique)",
    compRow5Guru: "Structuré",
    compRow5Classic: "Accessoire",

    // Case Study
    csTitle: "Ils nous ont confié le Z Event",
    csSubtitle: "Un événement gaming sous très haute pression, géré de bout en bout par Guru.",
    csCtxTitle: "Contexte",
    csCtxDesc: "Event de plusieurs jours, milliers de repas, invités / talents / staff à servir en continu dans un environnement live permanent.",
    csChalTitle: "Défi",
    csChalDesc: "Contraintes horaires extrêmes, volumes massifs, régimes spéciaux multiples, coordination avec la production en direct.",
    csSolTitle: "Solution",
    csSolDesc: "Organisation d'une équipe de 15–20 personnes, cuisine sur place, bar, logistique complète, coordination avec la prod.",
    csResTitle: "Résultats",
    csResDesc: "Plusieurs jours de prestation, milliers de repas servis, zéro rupture, satisfaction maximale des organisateurs.",
    csQuote: "\"Guru a géré l'intégralité de la restauration du Z Event avec une maîtrise impressionnante. Zéro stress côté orga.\"",

    // Logos / Trust
    trustTag: "Nos références",
    trustTitle: "Ils nous font ",
    trustHighlight: "confiance",
    trustSubtitle: "Des marques et événements de référence nous font confiance chaque année.",
    trustStat1Num: "100+",
    trustStat1Label: "entreprises clientes",
    trustStat2Num: "100 000+",
    trustStat2Label: "convives servis en 2025",
    trustStat3Num: "80+",
    trustStat3Label: "collaborateurs mobilisables",
    trustStat4Num: "France entière",
    trustStat4Label: "couverture nationale",

    // Process
    procTag: "Méthodologie",
    procTitle: "Notre manière de ",
    procHighlight: "travailler",
    procSubtitle: "Un process rodé pour que vous n'ayez plus à stresser.",
    proc1Title: "Brief & vision",
    proc1Desc: "Contexte, objectifs, invités, contraintes : on comprend votre événement dans les moindres détails.",
    proc2Title: "Proposition sur-mesure",
    proc2Desc: "Formats buffets / bar / staff, budget optimisé, scénographie adaptée à votre univers.",
    proc3Title: "Production & logistique",
    proc3Desc: "Coordination lieu, timings, livraisons, gestion anti-stress. Tout est calé en amont.",
    proc4Title: "Jour J & débrief",
    proc4Desc: "Équipe dédiée sur place, gestion des imprévus, feedback post-event pour s'améliorer.",

    // Commitments
    commitTag: "Nos valeurs",
    commitTitle: "Engagements & ",
    commitHighlight: "valeurs",
    commitSubtitle: "Notre responsabilité environnementale, intégrée à chaque prestation.",
    commit1Title: "Produits locaux & de saison",
    commit1Desc: "Approvisionnement en circuits courts, produits frais et de saison pour une qualité optimale.",
    commit2Title: "Anti-gaspi & dons",
    commit2Desc: "Réduction des déchets, compost, don des invendus à des associations partenaires.",
    commit3Title: "Zéro plastique jetable",
    commit3Desc: "Emballages recyclables, vaisselle réutilisable, suppression totale du plastique à usage unique.",
    commit4Title: "Livraison responsable",
    commit4Desc: "Livraisons organisées et mutualisées pour réduire notre empreinte carbone.",

    // FAQ
    faqTag: "Informations",
    faqTitle: "Questions ",
    faqHighlight: "fréquentes",
    faqSubtitle: "Les réponses aux questions que vous vous posez sûrement.",
    faq1Q: "Dans quelles régions intervenez-vous ?",
    faq1A: "Nous intervenons sur toute la France, et ponctuellement à l'international pour des événements d'envergure.",
    faq2Q: "Pour quel type d'événements êtes-vous le mieux adaptés ?",
    faq2A: "Gros volumes, événements sous pression (esport, festivals, live), soirées clients premium, séminaires et lancements produits.",
    faq3Q: "Gérez-vous les régimes spéciaux (vegan, halal, allergies) ?",
    faq3A: "Absolument. Nous adaptons systématiquement nos menus aux contraintes alimentaires de vos convives.",
    faq4Q: "Quels sont vos délais minimum pour une demande ?",
    faq4A: "Idéalement 2 à 4 semaines, mais nous sommes habitués à réagir vite. Contactez-nous pour en discuter.",
    faq5Q: "Pouvez-vous travailler avec une agence événementielle ?",
    faq5A: "Oui, c'est même courant. Nous collaborons régulièrement avec des agences et nous intégrons parfaitement à leurs process.",
    faq6Q: "Proposez-vous aussi le bar, le staff, la déco ?",
    faq6A: "Oui, c'est notre capacité 360 : food, bar, staff de service et scénographie culinaire, tout est intégré.",

    // Form
    formTag: "Contact",
    formTitle: "Demander un ",
    formHighlight: "devis",
    formSubtitle: "Remplissez ce formulaire et nous vous recontactons sous 24h.",
    formLastname: "Nom",
    formFirstname: "Prénom",
    formCompany: "Société",
    formEmail: "Email professionnel",
    formPhone: "Téléphone",
    formEventType: "Type d'événement",
    formEventOpt1: "Événement sous pression",
    formEventOpt2: "Soirée clients / lancement",
    formEventOpt3: "Séminaire / conférence",
    formEventOpt4: "Autre (préciser)",
    formDate: "Date(s) envisagée(s)",
    formLocation: "Lieu (ville, salle si connue)",
    formGuests: "Nombre estimé de convives",
    formGuestsOpt1: "Moins de 50",
    formGuestsOpt2: "50 – 150",
    formGuestsOpt3: "150 – 500",
    formGuestsOpt4: "500 – 1 000",
    formGuestsOpt5: "Plus de 1 000",
    formServices: "Services souhaités",
    formSvcBuffet: "Buffet",
    formSvcCocktail: "Cocktail dînatoire",
    formSvcBar: "Bar / cocktails",
    formSvcBreakfast: "Petit-déjeuner / pauses",
    formSvcSeated: "Repas assis",
    formSvcStaff: "Staff",
    formSvcSceno: "Scénographie",
    formBudget: "Budget estimé",
    formBudgetOpt1: "Moins de 5 000 €",
    formBudgetOpt2: "5 000 – 15 000 €",
    formBudgetOpt3: "15 000 – 50 000 €",
    formBudgetOpt4: "50 000 – 100 000 €",
    formBudgetOpt5: "Plus de 100 000 €",
    formContext: "Contexte & objectifs de votre événement",
    formSubmit: "Envoyer ma demande de devis",

    // Footer
    footerText: "© 2025 Guru – Traiteur événementiel premium. Tous droits réservés.",

    // Misc
    selectPlaceholder: "Sélectionner…",
  },

  en: {
    // Nav
    navForWho: "For whom?",
    navServices: "Services",
    navWhyGuru: "Why Guru",
    navProcess: "Process",
    navFaq: "FAQ",
    navCta: "Request a quote",
    langBtn: "FR",

    // Hero
    heroBadge: "360° Event Catering",
    heroTitle1: "The caterer for ",
    heroHighlight: "high-pressure",
    heroTitle2: " events, geek-food & premium, all across France.",
    heroSubtitle: "Full-service caterer for businesses and agencies: buffets, bars and staff for your seminars, product launches, festivals and gaming events – without the stuffy vibe.",
    stat1Num: "100,000+",
    stat1Label: "guests in 2025",
    stat2Num: "80+",
    stat2Label: "team members",
    stat3Num: "100+",
    stat3Label: "corporate clients",
    heroCta: "Request a quote",

    // For Who
    forWhoTag: "Our focus",
    forWhoTitle: "For which ",
    forWhoHighlight: "events",
    forWhoTitle2: "?",
    forWhoSubtitle: "We serve two main categories of B2B events.",
    forWho1Title: "High-pressure events",
    forWho1Desc: "Esports, festivals, live shows, major tech/gaming events, large conferences. Contexts where logistics must be flawless and volumes mastered.",
    forWho2Title: "Client events & premium geek-chic moments",
    forWho2Desc: "Product launches, client evenings, brand events, high-end seminars. Culinary excellence at the service of your image.",
    forWhoNote: "We do not cater small private events or micro-budgets.",

    // Services 360
    servicesTag: "Our services",
    servicesTitle: "What we ",
    servicesHighlight: "do",
    servicesSubtitle: "A full 360 capability to cover all your event catering needs.",
    svc1Title: "Buffets & cocktail receptions",
    svc1Desc: "Flexible formats, creative and quality cuisine, adapted to large volumes with seamless logistics.",
    svc2Title: "Bars & cocktails",
    svc2Desc: "Mixology, open bar, premium soft drinks. Bars that leave a lasting impression, with or without alcohol.",
    svc3Title: "Breakfasts & coffee breaks",
    svc3Desc: "Seminars, conferences, work days: gourmet breaks that recharge your teams.",
    svc4Title: "Seated meals / premium formats",
    svc4Desc: "High-end table service for your gala dinners, VIP evenings and exceptional moments.",
    svc5Title: "Staff & staging",
    svc5Desc: "Service, culinary scenography, food trucks if needed. A dedicated team trained to your standards.",

    // Comparison
    compTag: "Our difference",
    compTitle: "Why Guru over a ",
    compHighlight: "traditional caterer",
    compTitle2: "?",
    compSubtitle: "A factual comparison of what sets us apart.",
    compHeader1: "Criteria",
    compHeader2: "Guru",
    compHeader3: "Traditional caterer",
    compRow1: "High-pressure event management (esports, live, large volumes)",
    compRow1Guru: "Yes, our core expertise",
    compRow1Classic: "Occasional / not specialized",
    compRow2: "Geek-food premium DNA (gaming × luxury/tech)",
    compRow2Guru: "Clear and intentional",
    compRow2Classic: "Generalist",
    compRow3: "360 capability (food, bar, staff, scenography)",
    compRow3Guru: "Fully integrated",
    compRow3Classic: "Often fragmented / outsourced",
    compRow4: "Value for money on large volumes",
    compRow4Guru: "Optimized",
    compRow4Classic: "More variable",
    compRow5: "Eco commitment (local, seasonal, anti-waste, zero single-use plastic)",
    compRow5Guru: "Structured",
    compRow5Classic: "Secondary",

    // Case Study
    csTitle: "They trusted us with the Z Event",
    csSubtitle: "A gaming event under extreme pressure, managed end-to-end by Guru.",
    csCtxTitle: "Context",
    csCtxDesc: "Multi-day event, thousands of meals, guests / talents / staff to serve continuously in a permanent live environment.",
    csChalTitle: "Challenge",
    csChalDesc: "Extreme time constraints, massive volumes, multiple special diets, coordination with live production.",
    csSolTitle: "Solution",
    csSolDesc: "Team of 15–20 people organized on-site, full kitchen, bar, complete logistics, coordination with production.",
    csResTitle: "Results",
    csResDesc: "Multiple days of service, thousands of meals served, zero shortages, maximum organizer satisfaction.",
    csQuote: "\"Guru handled all the catering for the Z Event with impressive mastery. Zero stress on the organizer side.\"",

    // Logos / Trust
    trustTag: "Our clients",
    trustTitle: "They ",
    trustHighlight: "trust us",
    trustSubtitle: "Leading brands and events trust us year after year.",
    trustStat1Num: "100+",
    trustStat1Label: "corporate clients",
    trustStat2Num: "100,000+",
    trustStat2Label: "guests served in 2025",
    trustStat3Num: "80+",
    trustStat3Label: "team members available",
    trustStat4Num: "All of France",
    trustStat4Label: "nationwide coverage",

    // Process
    procTag: "Methodology",
    procTitle: "How we ",
    procHighlight: "work",
    procSubtitle: "A proven process so you can stop stressing.",
    proc1Title: "Brief & vision",
    proc1Desc: "Context, goals, guests, constraints: we understand your event down to the smallest detail.",
    proc2Title: "Custom proposal",
    proc2Desc: "Buffet / bar / staff formats, optimized budget, scenography tailored to your universe.",
    proc3Title: "Production & logistics",
    proc3Desc: "Venue coordination, timings, deliveries, stress-free management. Everything is locked in advance.",
    proc4Title: "D-Day & debrief",
    proc4Desc: "Dedicated on-site team, contingency management, post-event feedback for continuous improvement.",

    // Commitments
    commitTag: "Our values",
    commitTitle: "Commitments & ",
    commitHighlight: "values",
    commitSubtitle: "Our environmental responsibility, integrated into every service.",
    commit1Title: "Local & seasonal products",
    commit1Desc: "Short supply chains, fresh and seasonal products for optimal quality.",
    commit2Title: "Anti-waste & donations",
    commit2Desc: "Waste reduction, composting, donating unsold food to partner associations.",
    commit3Title: "Zero single-use plastic",
    commit3Desc: "Recyclable packaging, reusable tableware, complete elimination of single-use plastic.",
    commit4Title: "Responsible delivery",
    commit4Desc: "Organized and pooled deliveries to reduce our carbon footprint.",

    // FAQ
    faqTag: "Information",
    faqTitle: "Frequently asked ",
    faqHighlight: "questions",
    faqSubtitle: "Answers to the questions you're probably asking yourself.",
    faq1Q: "Which regions do you cover?",
    faq1A: "We operate throughout France, and occasionally internationally for major events.",
    faq2Q: "What type of events are you best suited for?",
    faq2A: "Large volumes, high-pressure events (esports, festivals, live), premium client evenings, seminars and product launches.",
    faq3Q: "Do you handle special diets (vegan, halal, allergies)?",
    faq3A: "Absolutely. We systematically adapt our menus to your guests' dietary requirements.",
    faq4Q: "What is your minimum lead time for a request?",
    faq4A: "Ideally 2 to 4 weeks, but we're used to reacting fast. Contact us to discuss.",
    faq5Q: "Can you work with an event agency?",
    faq5A: "Yes, it's quite common. We regularly collaborate with agencies and integrate seamlessly into their processes.",
    faq6Q: "Do you also offer bar, staff and decoration services?",
    faq6A: "Yes, that's our 360 capability: food, bar, service staff and culinary scenography, all integrated.",

    // Form
    formTag: "Contact",
    formTitle: "Request a ",
    formHighlight: "quote",
    formSubtitle: "Fill out this form and we'll get back to you within 24 hours.",
    formLastname: "Last name",
    formFirstname: "First name",
    formCompany: "Company",
    formEmail: "Professional email",
    formPhone: "Phone",
    formEventType: "Event type",
    formEventOpt1: "High-pressure event",
    formEventOpt2: "Client evening / launch",
    formEventOpt3: "Seminar / conference",
    formEventOpt4: "Other (specify)",
    formDate: "Planned date(s)",
    formLocation: "Location (city, venue if known)",
    formGuests: "Estimated number of guests",
    formGuestsOpt1: "Less than 50",
    formGuestsOpt2: "50 – 150",
    formGuestsOpt3: "150 – 500",
    formGuestsOpt4: "500 – 1,000",
    formGuestsOpt5: "More than 1,000",
    formServices: "Desired services",
    formSvcBuffet: "Buffet",
    formSvcCocktail: "Cocktail reception",
    formSvcBar: "Bar / cocktails",
    formSvcBreakfast: "Breakfast / breaks",
    formSvcSeated: "Seated meal",
    formSvcStaff: "Staff",
    formSvcSceno: "Scenography",
    formBudget: "Estimated budget",
    formBudgetOpt1: "Less than €5,000",
    formBudgetOpt2: "€5,000 – €15,000",
    formBudgetOpt3: "€15,000 – €50,000",
    formBudgetOpt4: "€50,000 – €100,000",
    formBudgetOpt5: "More than €100,000",
    formContext: "Context & goals of your event",
    formSubmit: "Send my quote request",

    // Footer
    footerText: "© 2025 Guru – Premium event catering. All rights reserved.",

    // Misc
    selectPlaceholder: "Select…",
  }
};

// ===== STATE =====
let currentLang = 'fr';

// ===== LANGUAGE SWITCH =====
function setLang(lang) {
  currentLang = lang;
  const t = translations[lang];

  // Update all elements with data-i18n attribute
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (t[key] !== undefined) {
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = t[key];
      } else if (el.tagName === 'OPTION') {
        el.textContent = t[key];
      } else {
        el.textContent = t[key];
      }
    }
  });

  // Update innerHTML elements (those with highlights)
  document.querySelectorAll('[data-i18n-html]').forEach(el => {
    const keys = el.getAttribute('data-i18n-html').split(',');
    let html = '';
    keys.forEach(k => {
      const trimmed = k.trim();
      if (trimmed.endsWith('Highlight') || trimmed.endsWith('highlight')) {
        html += `<span class="highlight">${t[trimmed]}</span>`;
      } else {
        html += t[trimmed];
      }
    });
    el.innerHTML = html;
  });

  // Update lang button
  document.getElementById('langToggle').textContent = t.langBtn;
  document.documentElement.lang = lang;
}

// ===== FAQ TOGGLE =====
function initFaq() {
  document.querySelectorAll('.faq-question').forEach(btn => {
    btn.addEventListener('click', () => {
      const item = btn.closest('.faq-item');
      const answer = item.querySelector('.faq-answer');
      const isOpen = item.classList.contains('open');

      // Close all
      document.querySelectorAll('.faq-item').forEach(fi => {
        fi.classList.remove('open');
        fi.querySelector('.faq-answer').style.maxHeight = '0';
      });

      if (!isOpen) {
        item.classList.add('open');
        answer.style.maxHeight = answer.scrollHeight + 'px';
      }
    });
  });
}

// ===== MOBILE MENU =====
function initMobileMenu() {
  const hamburger = document.getElementById('hamburger');
  const nav = document.getElementById('mainNav');

  hamburger.addEventListener('click', () => {
    nav.classList.toggle('open');
    hamburger.classList.toggle('active');
  });

  // Close on link click
  nav.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      nav.classList.remove('open');
      hamburger.classList.remove('active');
    });
  });
}

// ===== SCROLL ANIMATIONS =====
function initScrollAnimations() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

  document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));
}

// ===== SMOOTH SCROLL FOR NAV =====
function initSmoothScroll() {
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        const headerOffset = 80;
        const elementPosition = target.getBoundingClientRect().top;
        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
        
        window.scrollTo({
          top: offsetPosition,
          behavior: 'smooth'
        });
      }
    });
  });
}

// ===== HEADER SCROLL EFFECT =====
function initHeaderScroll() {
  const header = document.querySelector('.header');
  let lastScroll = 0;
  
  window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
    
    if (currentScroll > 100) {
      header.style.background = 'rgba(15, 15, 18, 0.95)';
    } else {
      header.style.background = 'rgba(15, 15, 18, 0.85)';
    }
    
    lastScroll = currentScroll;
  });
}

// ===== INIT =====
document.addEventListener('DOMContentLoaded', () => {
  initFaq();
  initMobileMenu();
  initScrollAnimations();
  initSmoothScroll();
  initHeaderScroll();

  // Lang toggle
  document.getElementById('langToggle').addEventListener('click', () => {
    setLang(currentLang === 'fr' ? 'en' : 'fr');
  });

  // Set initial language
  setLang('fr');
});
